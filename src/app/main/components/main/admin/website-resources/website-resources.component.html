<!-- Header: Button & Search -->
<div class="header-actions">
  <button class="btn btn-success" (click)="openFormModal()">Add New Item</button>

  <div class="input-group search-box">
    <span class="input-group-text bg-light border-end-0">
      <i class="bi bi-search"></i>
    </span>
    <input 
      type="text" 
      class="form-control border-start-0" 
      placeholder="Search categories..."
      [(ngModel)]="viewModel.searchTerm"
      (input)="applyFilter()">
  </div>
</div>

<!-- Table -->
<div class="table-responsive">
  <table class="table table-striped table-hover align-middle">
    <thead>
      <tr>
        <th>#</th>
        <th (click)="sortData('name')">
          Title <i class="bi ms-2" [ngClass]="getSortIcon('name')"></i>
        </th>
        <th>Description</th>
        <th>CTA Text</th>
        <th>Link</th>
        <th>Image</th>
        <th (click)="sortData('status')">
          Status <i class="bi ms-2" [ngClass]="getSortIcon('status')"></i>
        </th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let item of viewModel.filteredBanners; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ item.title }}</td>
        <td>{{ item.description }}</td>
        <td>{{item.ctaText}} </td>
        <td>{{item.link}}</td>
        <td>
          <img [src]="item.image_base64" alt="Banner" class="table-icon">
        </td>
        <td>
          <span 
            class="badge" 
            [ngClass]="item.image_base64 ? 'bg-success' : 'bg-secondary'">
            {{ item.isVisible }}
          </span>
        </td>
        <td>
          <button class="btn btn-sm btn-primary me-1" (click)="openFormModal(item)">Edit</button>
          <button class="btn btn-sm btn-danger" (click)="confirmDelete(item.id!)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Empty State -->
  <div *ngIf="viewModel.filteredBanners.length === 0" class="empty-state">
    <i class="bi bi-folder-x"></i>
    <h4>No categories found</h4>
    <p>Try adjusting your search or add a new Banners</p>
  </div>

  <!-- Pagination -->
  <div 
    class="pagination-container"
    *ngIf="viewModel.pagination && viewModel.pagination.totalCount > 0">
    <pagination 
      (selectedPageNum)="loadPagedataWithPagination($event)" 
      [viewModel]="viewModel.pagination">
    </pagination>
  </div>
</div>
