<!-- Header: Button & Search -->
<div class="header-actions">
  <button class="btn btn-success" (click)="openFormModal()">
    <i class="bi bi-plus-lg me-1"></i> Add New ContactUs
  </button>

  <div class="input-group search-box w-25">
    <span class="input-group-text bg-light border-end-0">
      <i class="bi bi-search"></i>
    </span>
    <input 
      type="text" 
      class="form-control border-start-0" 
      placeholder="Search ContactUs..." 
      [(ngModel)]="viewModel.searchTerm"
      (input)="applyFilter()">
  </div>
</div>

<!-- Table -->
<div class="table-responsive table-hover-wrapper">
  <table class="table table-striped table-hover align-middle">
    <thead class="table-light sticky-header">
      <tr>
        <th>#</th>
        <th (click)="sortData('name')">
          Name <i class="bi ms-2" [ngClass]="getSortIcon('name')"></i>
        </th>
        <th (click)="sortData('email')">
          Email <i class="bi ms-2" [ngClass]="getSortIcon('email')"></i>
        </th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      @for (item of viewModel.filteredContactUs; track item.id || $index; let i = $index) {
        <tr class="table-row-hover">
          <td>{{ i + 1 }}</td>
          <td class="text-wrap text-break" title="{{ item.name }}">{{ item.name }}</td>
          <td class="text-wrap text-break" title="{{ item.email }}">{{ item.email }}</td>
          <td class="text-wrap text-break" title="{{ item.description }}">{{ item.description }}</td>
          <td>
            <div class="d-flex gap-1 flex-wrap">
              <button class="btn btn-sm btn-primary" (click)="openFormModal(item)">
                <i class="bi bi-pencil-fill"></i> Edit
              </button>
              <button class="btn btn-sm btn-danger" (click)="confirmDelete(item.id!)">
                <i class="bi bi-trash-fill"></i> Delete
              </button>
            </div>
          </td>
        </tr>
      }
    </tbody>
  </table>

  <!-- Empty State -->
  @if (viewModel.filteredContactUs.length === 0) {
    <div class="empty-state">
      <i class="bi bi-folder-x"></i>
      <h4>No ContactUs found</h4>
      <p>Try adjusting your search or add a new ContactUs</p>
    </div>
  }

  <!-- Pagination -->
  @if (viewModel.pagination && viewModel.pagination.totalCount > 0) {
    <div class="pagination-container">
    <pagination 
      (selectedPageNum)="loadPagedataWithPagination($event)" 
      [viewModel]="viewModel.pagination">
    </pagination>
    </div>
  }
</div>
